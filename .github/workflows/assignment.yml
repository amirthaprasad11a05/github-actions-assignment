name: Assignment Cache

on:
  workflow_dispatch:
  push:

jobs:
  cache-test:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout
      uses: actions/checkout@v4
      
    - name: prime-cache-27f7809
      id: cache-step
      uses: actions/cache@v4
      with:
        key: cache-27f7809
        path: cache-demo/  # Simple relative path - NO permission issues!
        
    - name: Show cache result
      run: echo "Cache hit: ${{ steps.cache-step.outputs.cache-hit }}"
      
    - name: Populate cache  # Create BEFORE cache step next time
      run: |
        mkdir -p cache-demo
        echo "Assignment success: $(date)" > cache-demo/demo.txt
        ls -la cache-demo/
        
    - name: Your original step
      run: echo "Hello, world!"
